
tinymce.PluginManager.add("smileys",function(g,b){var h=[[{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/aa.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/ab.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/ac.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/ad.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/ae.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/af.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/ag.gif",title:""},],[{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/ah.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/ai.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/aj.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/ak.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/al.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/am.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/df.gif",title:""},],[{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/ao.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/ap.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/aq.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/ar.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/as.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/at.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/au.gif",title:""},],[{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/av.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/aw.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/ax.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/da.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/az.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/ba.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/dv.gif",title:""},],[{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/bc.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/bd.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/be.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/bf.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/bg.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/bh.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/bi.gif",title:""},],[{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/bm.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/bn.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/bo.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/bp.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/bq.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/db.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/dm.gif",title:""},],[{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/bt.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/bu.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/bv.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/bw.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/bx.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/by.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/bz.gif",title:""},],[{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/ca.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/cb.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/cd.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/dk.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/cf.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/dn.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/ch.gif",title:""},],[{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/ci.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/cj.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/dr.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/du.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/cm.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/cn.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/co.gif",title:""},],[{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/cp.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/cw.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/cy.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/cs.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/ct.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/cz.gif",title:""},{shortcut:"",url:"http://forum.lalipop.ru/images/forum/smile/dh.gif",title:""},],];var f=g.settings.smileys||h,d=g.settings.extended_smileys?f.concat(g.settings.extended_smileys):f;function e(){var j;j='<table role="presentation" class="">';tinymce.each(d,function(k){j+="<tr>";tinymce.each(k,function(l){j+='<td style="vertical-align:middle;text-align:center"><a href="#" style="text-align:center;" data-mce-url="'+l.url+'" tabindex="-1" title="'+l.title+'"><img src="'+l.url+'" style=""></a></td>'});j+="</tr>"});j+="</table>";return j}function c(l){var k=tinymce.each,j=[];k(l,function(m){j=j.concat(m)});return j.length>0?j:l}function a(u,n,j,A,p){var o,q=[],z,t=0,v;var y,k,s;v=n.ownerDocument;y=p.getBlockElements();k=p.getWhiteSpaceElements();s=p.getShortEndedElements();function w(B,C){C=C||0;var D=B.index;if(C>0){var E=B[C];D+=B[0].indexOf(E);B[0]=E}return[D,D+B[0].length,[B[0]]]}function x(B){var m;if(B.nodeType===3){return B.data}if(k[B.nodeName]&&!y[B.nodeName]){return""}m="";if(y[B.nodeName]||s[B.nodeName]){m+="\n"}if((B=B.firstChild)){do{m+=x(B)}while((B=B.nextSibling))}return m}function r(D,F,J){var B,I,G,C,K=[],H=0,E=D,m=F.shift(),L=0;out:while(true){if(y[E.nodeName]||s[E.nodeName]){H++}if(E.nodeType===3){if(!I&&E.length+H>=m[1]){I=E;C=m[1]-H}else{if(B){K.push(E)}}if(!B&&E.length+H>m[0]){B=E;G=m[0]-H}H+=E.length}if(B&&I){E=J({startNode:B,startNodeIndex:G,endNode:I,endNodeIndex:C,innerNodes:K,match:m[2],matchIndex:L});H-=(I.length-C);B=null;I=null;K=[];m=F.shift();L++;if(!m){break}}else{if((!k[E.nodeName]||y[E.nodeName])&&E.firstChild){E=E.firstChild;continue}else{if(E.nextSibling){E=E.nextSibling;continue}}}while(true){if(E.nextSibling){E=E.nextSibling;break}else{if(E.parentNode!==D){E=E.parentNode}else{break out}}}}}function l(D){var m;if(typeof D!="function"){var C=D.nodeType?D:v.createElement(D);m=function(){var E=C.cloneNode(false);return E}}else{m=D}return function B(G){var K,L,F,H=G.startNode,E=G.endNode;if(H===E){var J=H;F=J.parentNode;if(G.startNodeIndex>0){K=v.createTextNode(J.data.substring(0,G.startNodeIndex));F.insertBefore(K,J)}var I=m();F.insertBefore(I,J);if(G.endNodeIndex<J.length){L=v.createTextNode(J.data.substring(G.endNodeIndex));F.insertBefore(L,J)}J.parentNode.removeChild(J);return I}}}z=x(n);if(!z){return}while((o=u.exec(z))){q.push(w(o,A))}if(q.length){t=q.length;r(n,q,l(j))}return t}function i(l){var m=tinymce.each,k=g.selection.getNode(),j,n;if(typeof(l.shortcut)==="string"){n=l.shortcut.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");j=g.dom.create("img",{src:l.url,title:l.title});return a(new RegExp(n,"gi"),k,j,false,g.schema)}else{if(Array.isArray(l.shortcut)){m(l.shortcut,function(o){j=g.dom.create("img",{src:l.url,title:l.title});return a(new RegExp(o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"gi"),k,j,false,g.schema)})}}}g.on("keyup",function(m){if(!!g.settings.auto_convert_smileys){var l=tinymce.each,j=g.selection,k=j.getNode();if(k){l(c(d),function(n){i(n)})}}});g.addButton("smileys",{type:"panelbutton",icon:"emoticons",panel:{autohide:true,html:e,onclick:function(j){var k=g.dom.getParent(j.target,"a");if(k){g.insertContent('<img src="'+k.getAttribute("data-mce-url")+'" title="'+k.getAttribute("title")+'" />');this.hide()}}},tooltip:"Смайлики"})});